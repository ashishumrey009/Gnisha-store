{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nimport React from \"react\";\nimport cookie from \"js-cookie\";\nimport Router from \"next/router\";\nexport function handleLogin(token) {\n  cookie.set(\"token\", token);\n  Router.push(\"/account\");\n}\nexport function redirectUser() {\n  var ctx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var location = arguments.length > 1 ? arguments[1] : undefined;\n\n  if (ctx.req) {\n    if (typeof ctx.res.writeHead === \"function\") {\n      ctx.res.writeHead(302, {\n        Location: location\n      });\n      ctx.res.end();\n    }\n  } else {\n    Router.push(location);\n  }\n}\nexport function handleLogout() {\n  cookie.remove(\"token\");\n  window.localStorage.setItem(\"logout\", _Date$now());\n  Router.push(\"/login\");\n}","map":{"version":3,"sources":["/media/ashish/workbook/Ginisha-Store/utils/auth.js"],"names":["React","cookie","Router","handleLogin","token","set","push","redirectUser","ctx","location","req","res","writeHead","Location","end","handleLogout","remove","window","localStorage","setItem"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACjCH,EAAAA,MAAM,CAACI,GAAP,CAAW,OAAX,EAAoBD,KAApB;AACAF,EAAAA,MAAM,CAACI,IAAP,CAAY,UAAZ;AACD;AAED,OAAO,SAASC,YAAT,GAA0C;AAAA,MAApBC,GAAoB,uEAAd,EAAc;AAAA,MAAVC,QAAU;;AAE/C,MAAID,GAAG,CAACE,GAAR,EAAa;AACX,QAAI,OAAOF,GAAG,CAACG,GAAJ,CAAQC,SAAf,KAA6B,UAAjC,EAA6C;AAC3CJ,MAAAA,GAAG,CAACG,GAAJ,CAAQC,SAAR,CAAkB,GAAlB,EAAuB;AAAEC,QAAAA,QAAQ,EAAEJ;AAAZ,OAAvB;AACAD,MAAAA,GAAG,CAACG,GAAJ,CAAQG,GAAR;AACD;AACF,GALD,MAKO;AACLZ,IAAAA,MAAM,CAACI,IAAP,CAAYG,QAAZ;AACD;AACF;AAED,OAAO,SAASM,YAAT,GAAwB;AAC7Bd,EAAAA,MAAM,CAACe,MAAP,CAAc,OAAd;AACAC,EAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,EAAsC,WAAtC;AACAjB,EAAAA,MAAM,CAACI,IAAP,CAAY,QAAZ;AACD","sourcesContent":["import React from \"react\";\nimport cookie from \"js-cookie\";\nimport Router from \"next/router\";\n\nexport function handleLogin(token) {\n  cookie.set(\"token\", token);\n  Router.push(\"/account\");\n}\n\nexport function redirectUser(ctx = {}, location) {\n\n  if (ctx.req) {\n    if (typeof ctx.res.writeHead === \"function\") {\n      ctx.res.writeHead(302, { Location: location });\n      ctx.res.end();\n    }\n  } else {\n    Router.push(location);\n  }\n}\n\nexport function handleLogout() {\n  cookie.remove(\"token\");\n  window.localStorage.setItem(\"logout\", Date.now());\n  Router.push(\"/login\");\n}\n"]},"metadata":{},"sourceType":"module"}